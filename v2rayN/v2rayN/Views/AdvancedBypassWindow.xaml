<base:WindowBase
    x:Class="v2rayN.Views.AdvancedBypassWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:base="clr-namespace:v2rayN.Base"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:reactiveui="http://reactiveui.net"
    xmlns:resx="clr-namespace:ServiceLib.Resx;assembly=ServiceLib"
    xmlns:vms="clr-namespace:ServiceLib.ViewModels;assembly=ServiceLib"
    Title="ðŸš€ Advanced Sanctions Bypass System"
    Width="900"
    Height="700"
    x:TypeArguments="vms:SanctionsBypassViewModel"
    ShowInTaskbar="False"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <DockPanel Margin="8">

        <!-- Header Section -->
        <StackPanel DockPanel.Dock="Top" Margin="0,0,0,16">
            <TextBlock
                Text="ðŸš€ Advanced Sanctions Bypass System"
                FontSize="24"
                FontWeight="Bold"
                HorizontalAlignment="Center"
                Foreground="DarkBlue" />
            <TextBlock
                Text="ðŸ”¥ Next-Generation Bypass Techniques for Iranian Sanctions"
                FontSize="14"
                HorizontalAlignment="Center"
                Margin="0,8,0,0"
                Foreground="Gray" />
            <TextBlock
                Text="âš¡ Combines DNS over HTTPS, Proxy Chains, Domain Fronting, and CDN Routing"
                FontSize="12"
                HorizontalAlignment="Center"
                Margin="0,4,0,0"
                Foreground="DarkGray"
                TextWrapping="Wrap" />
        </StackPanel>

        <!-- Domain Input Section -->
        <GroupBox Header="ðŸŽ¯ Target Domain" Margin="0,0,0,16" DockPanel.Dock="Top">
            <StackPanel Orientation="Horizontal" Margin="8">
                <TextBlock Text="Domain:" VerticalAlignment="Center" Margin="0,0,8,0" />
                <TextBox x:Name="txtTargetDomain"
                         Text="developer.android.com"
                         Width="300"
                         Margin="0,0,16,0"
                         Padding="4" />
                <Button x:Name="btnAnalyzeDomain"
                        Content="ðŸ” Analyze Domain"
                        Padding="12,6"
                        Background="LightBlue"
                        Click="BtnAnalyzeDomain_Click" />
                <Button x:Name="btnApplyBypass"
                        Content="ðŸš€ Apply Bypass"
                        Padding="12,6"
                        Background="LightGreen"
                        Margin="8,0,0,0"
                        IsEnabled="False"
                        Click="BtnApplyBypass_Click" />
            </StackPanel>
        </GroupBox>

        <!-- Analysis Results Section -->
        <GroupBox Header="ðŸ“Š Bypass Analysis Results" Margin="0,0,0,16" DockPanel.Dock="Top">
            <Grid Margin="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="8">
                    <TextBlock Text="ðŸ”’ DNS over HTTPS" FontWeight="Bold" Margin="0,0,0,8" />
                    <TextBlock x:Name="txtDohStatus" Text="â“ Not tested" Foreground="Gray" />
                    <TextBlock x:Name="txtDohDetails" Text="" FontSize="10" Foreground="DarkGray" />
                </StackPanel>

                <StackPanel Grid.Column="1" Margin="8">
                    <TextBlock Text="ðŸ”— Proxy Chain" FontWeight="Bold" Margin="0,0,0,8" />
                    <TextBlock x:Name="txtProxyStatus" Text="â“ Not tested" Foreground="Gray" />
                    <TextBlock x:Name="txtProxyDetails" Text="" FontSize="10" Foreground="DarkGray" />
                </StackPanel>

                <StackPanel Grid.Column="2" Margin="8">
                    <TextBlock Text="ðŸŽ­ Domain Fronting" FontWeight="Bold" Margin="0,0,0,8" />
                    <TextBlock x:Name="txtFrontingStatus" Text="â“ Not tested" Foreground="Gray" />
                    <TextBlock x:Name="txtFrontingDetails" Text="" FontSize="10" Foreground="DarkGray" />
                </StackPanel>

                <StackPanel Grid.Column="3" Margin="8">
                    <TextBlock Text="ðŸŒ CDN Routing" FontWeight="Bold" Margin="0,0,0,8" />
                    <TextBlock x:Name="txtCdnStatus" Text="â“ Not tested" Foreground="Gray" />
                    <TextBlock x:Name="txtCdnDetails" Text="" FontSize="10" Foreground="DarkGray" />
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- Recommended Method Section -->
        <GroupBox Header="ðŸŽ¯ Recommended Bypass Method" Margin="0,0,0,16" DockPanel.Dock="Top">
            <StackPanel Margin="8">
                <TextBlock x:Name="txtRecommendedMethod"
                           Text="ðŸ” Click 'Analyze Domain' to get recommendations"
                           FontSize="14"
                           FontWeight="Bold"
                           Foreground="Blue"
                           Margin="0,0,0,8" />
                <TextBlock x:Name="txtMethodDescription"
                           Text=""
                           FontSize="12"
                           Foreground="DarkGray"
                           TextWrapping="Wrap" />
            </StackPanel>
        </GroupBox>

        <!-- Configuration Options -->
        <GroupBox Header="âš™ï¸ Advanced Configuration" Margin="0,0,0,16" DockPanel.Dock="Top">
            <StackPanel Margin="8">
                <CheckBox x:Name="chkEnableDoh" Content="Enable DNS over HTTPS" IsChecked="True" Margin="0,0,0,8" />
                <CheckBox x:Name="chkEnableProxyChain" Content="Enable Proxy Chain Bypass" IsChecked="True" Margin="0,0,0,8" />
                <CheckBox x:Name="chkEnableDomainFronting" Content="Enable Domain Fronting" IsChecked="True" Margin="0,0,0,8" />
                <CheckBox x:Name="chkEnableCdnRouting" Content="Enable CDN Routing" IsChecked="True" Margin="0,0,0,8" />
                <CheckBox x:Name="chkEnableCombinedMethods" Content="Enable Combined Methods (Best Results)" IsChecked="True" Margin="0,0,0,8" />
            </StackPanel>
        </GroupBox>

        <!-- Action Buttons -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,16,0,0">
            <Button x:Name="btnTestAllMethods"
                    Content="ðŸ§ª Test All Methods"
                    Padding="16,8"
                    Background="LightBlue"
                    Click="BtnTestAllMethods_Click" />
            <Button x:Name="btnApplyRecommended"
                    Content="âœ… Apply Recommended"
                    Padding="16,8"
                    Background="LightGreen"
                    Margin="16,0,0,0"
                    IsEnabled="False"
                    Click="BtnApplyRecommended_Click" />
            <Button x:Name="btnClose"
                    Content="âŒ Close"
                    Padding="16,8"
                    Background="LightGray"
                    Margin="16,0,0,0"
                    Click="BtnClose_Click" />
        </StackPanel>

        <!-- Log Section -->
        <GroupBox Header="ðŸ“‹ Advanced Bypass Log">
            <ScrollViewer x:Name="logScrollViewer" VerticalScrollBarVisibility="Auto">
                <TextBox x:Name="txtLog"
                         Text="Ready for advanced bypass operations..."
                         IsReadOnly="True"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalAlignment="Stretch"
                         MinHeight="200"
                         FontFamily="Consolas"
                         FontSize="11"
                         Background="Black"
                         Foreground="LimeGreen" />
            </ScrollViewer>
        </GroupBox>

    </DockPanel>
</base:WindowBase>
